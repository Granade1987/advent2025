<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>Adventskalender 2025</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #fff;
      color: #000;
      text-align: center;
      margin: 0;
      padding: 0;
      perspective: 1000px; /* Nodig voor 3D-transformaties */
    }

    #logo {
      max-width: 250px;
      height: auto;
      margin-top: 20px;
    }

    h1 {
      margin-top: 20px;
      font-size: 2.5rem;
    }

    .calendar {
      display: grid;
      /* Aangepast: 4 kolommen per rij */
      grid-template-columns: repeat(4, 1fr); 
      gap: 15px; /* Iets meer ruimte tussen de grotere vakjes */
      /* Aangepast: Maximum breedte voor de kalender */
      max-width: 700px; 
      margin: 30px auto;
      padding: 10px;
    }

    /* NIEUW: Container voor de flip */
    .door-container {
      width: 100%; /* Zorgt dat de container de celbreedte vult */
      height: 120px; /* Vaste hoogte voor de vakjes */
      position: relative;
      perspective: 1000px;
      cursor: pointer; /* Zodat de hele container klikbaar is */
      box-shadow: 0 3px 6px rgba(0,0,0,0.2);
      border-radius: 8px; /* Afronding ook op container */
    }

    /* NIEUW: De voorkant en achterkant van het vakje */
    .door {
      width: 100%;
      height: 100%;
      position: absolute;
      transform-style: preserve-3d;
      transition: transform 0.6s;
      border-radius: 8px;
      border: 2px solid #000;
      font-size: 1.5rem; /* Grotere tekst */
      display: flex; /* Centreer inhoud verticaal en horizontaal */
      justify-content: center;
      align-items: center;
      box-sizing: border-box; /* Padding en border binnen de breedte/hoogte */
    }

    .door-front, .door-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden; /* Zorgt dat de achterkant niet zichtbaar is als hij naar voren wijst */
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 6px; /* Iets kleinere radius voor binnenkanten */
      padding: 10px;
      box-sizing: border-box;
      text-align: center;
    }

    .door-front {
      background: #fff;
      color: #000;
      transform: rotateY(0deg);
    }

    .door-back {
      background: #000; /* Achterkant is zwart */
      color: #fff; /* Witte tekst op zwart */
      transform: rotateY(180deg);
      font-size: 1.5rem; /* Iets kleinere tekst voor de beloning */
      line-height: 1.3;
      overflow: hidden; /* Voorkomt overflow bij lange teksten */
    }

    /* Actieve dagen (nog niet open) */
    .door-container.active .door-front {
      background: #000;
      color: #fff;
      cursor: pointer;
    }
    .door-container.active .door-front:hover {
      background: #fff;
      color: #000;
      transform: scale(1.02); /* Klein hover effect op de voorkant */
    }

    /* Toekomstige dagen (na vandaag) */
    .door-container.disabled {
      opacity: 0.7;
      cursor: not-allowed;
    }
    .door-container.disabled .door-front {
      background: #ccc;
      color: #666;
    }

    /* Geopende dagen: draai het vakje om */
    .door-container.open .door {
      transform: rotateY(180deg);
    }
    .door-container.open .door-front {
      /* Geopende voorkant heeft geen hover meer */
      transform: rotateY(0deg); 
      background: #fff; /* Wit, net als de rest van de kalender */
      color: #000;
    }
    /* Zorgt dat geopend vakje nog steeds klikbaar is om de beloning te zien */
    .door-container.open {
      cursor: pointer;
    }

    .reward {
      display: none; /* Deze is nu overbodig voor de directe weergave, maar blijft voor complexere gevallen */
      margin-top: 15px;
      padding: 15px;
      background: #f5f5f5;
      color: #000;
      border: 1px solid #ddd;
      border-radius: 8px;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }
    .reward img {
      max-width: 100%;
      border-radius: 4px;
    }
    .reward a {
      color: #000;
      text-decoration: underline;
    }
  </style>
</head>
<body>

  <img src="https://s3-eu-west-1.amazonaws.com/tpd/logos/61693dab0b5365001de73797/0x0.png" alt="Mike's Just For Men Logo" id="logo">

  <h1>🎄 Mikes Adventskalender 2025 🎁</h1>
  <div class="calendar" id="calendar"></div>
  <div id="rewardBox" class="reward"></div> <script>
const rewards = {
  1: "10% korting op alles!\nCode: DEC10", // \n voor een nieuwe regel
  2: "Gratis verzending vandaag!",
  3: "Dubbele punten op je volgende bestelling!",
  4: "15% korting op kerstdecoratie!",
  5: "Gratis verpakking bij elke bestelling!",
  24: "🌟 Vrolijk kerstfeest en bedankt voor 2025!"
};

const calendar = document.getElementById('calendar');
const rewardBox = document.getElementById('rewardBox');
const now = new Date();
const today = now.getDate();
const month = now.getMonth(); // 0 = januari, 9 = oktober, 11 = december
const openedDays = JSON.parse(localStorage.getItem('openedDays')) || [];

function saveOpenedDay(day) {
  if (!openedDays.includes(day)) {
    openedDays.push(day);
    localStorage.setItem('openedDays', JSON.stringify(openedDays));
  }
}

// --- CONTROLE LOGICA (TESTMODUS IS NOG ACTIEF!) ---
for (let i = 1; i <= 24; i++) {
  const doorContainer = document.createElement('div');
  doorContainer.classList.add('door-container');
  
  const door = document.createElement('div');
  door.classList.add('door');

  const doorFront = document.createElement('div');
  doorFront.classList.add('door-front');
  doorFront.textContent = i; // Nummer op de voorkant

  const doorBack = document.createElement('div');
  doorBack.classList.add('door-back');
  doorBack.innerHTML = rewards[i] ? rewards[i].replace(/\n/g, '<br>') : "Nog niets ingesteld 🎁"; // Beloning op de achterkant

  door.appendChild(doorFront);
  door.appendChild(doorBack);
  doorContainer.appendChild(door);

  const isDecember = month === 11;
  const isOctoberTest = month === 9; // Dit is nu (oktober 2025)

  let isActiveDay = false;

  // 1. Logica om de kalender NU te testen in oktober (alle vakjes t/m 24 actief)
  // *** VERGEET DEZE NIET UIT TE SCHAKELEN VOOR DECEMBER ***
  if (isOctoberTest && i <= 24) { 
      isActiveDay = true;
  }
  // 2. Logica voor de ECHTE kalender in december
  else if (isDecember && i <= today) {
      isActiveDay = true;
  }
  
  // 3. Controleer of het al geopend is
  if (openedDays.includes(i)) {
    doorContainer.classList.add('open');
    // Klik-actie om de beloning opnieuw te zien
    doorContainer.addEventListener('click', () => {
      // Optioneel: als je de rewardBox hier nog voor wilt gebruiken
      // rewardBox.innerHTML = rewards[i] ? rewards[i].replace(/\n/g, '<br>') : "Nog niets ingesteld 🎁";
      // rewardBox.style.display = 'block';
    });
  } 
  // 4. Controleer of het een actieve dag is (nog niet geopend)
  else if (isActiveDay) {
    doorContainer.classList.add('active');
    // Klik-actie om de dag te openen
    doorContainer.addEventListener('click', () => {
      if (!doorContainer.classList.contains('active')) return; // Alleen klikken als actief

      doorContainer.classList.add('open');
      doorContainer.classList.remove('active');
      saveOpenedDay(i); // Sla de geopende status op
      // Optioneel: als je de rewardBox hier nog voor wilt gebruiken
      // rewardBox.innerHTML = rewards[i] ? rewards[i].replace(/\n/g, '<br>') : "Nog niets ingesteld 🎁";
      // rewardBox.style.display = 'block';
    });
  } 
  // 5. Anders is het een uitgeschakelde dag
  else {
    doorContainer.classList.add('disabled');
  }

  calendar.appendChild(doorContainer);
}
</script>

</body>
</html>